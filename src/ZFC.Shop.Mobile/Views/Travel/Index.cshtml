@model dynamic

@{
    ViewBag.Title = "Travel";
}

<div class="row">
    <div class="col-xs-12">
        <div class="panel panel-primary">
            <div class="panel-heading">
                <div class="panel-title">Travel申请 (Request ID: @Model.Base.ObjectID)</div>
            </div>
        </div>
    </div>
</div>

<div class="row-fluid">
    <div class="col-xs-12">
        <ul class="nav nav-tabs" id="mayTab">
            <li class="wh33p" data-type="1"><a href="javascript:void(0)" data-target="#tab-base" data-toggle="tab" id="a-tab-base">基础信息</a></li>
            <li class="wh34p active" data-type="2"><a href="javascript:void(0)" data-target="#tab-req" data-toggle="tab" id="a-tab-req">申请信息</a></li>
            <li class="wh33p" data-type="3"><a href="javascript:void(0)" data-target="#tab-aud" data-toggle="tab" id="a-tab-aud">审批日志</a></li>
        </ul>
    </div>
</div>

<div class="tab-content clear">
    <div class="tab-pane" id="tab-base">
        @Html.Partial("Base")
    </div>

    <div class="tab-pane active" id="tab-req">
        <div class="panel panel-danger">
            <div class="panel-heading">
                <div class="panel-title">出差人信息</div>
            </div>
            <div class="panel-body">
                <table class="table table-condensed">
                    <tr>
                        <th>姓名</th>
                        <th>证件号码</th>
                        <th>联系电话</th>
                    </tr>
                    <tr>
                        <td>蒙伟</td>
                        <td>M12345678</td>
                        <td>13910510432</td>
                    </tr>
                </table>
            </div>
        </div>
        <div class="panel panel-danger">
            <div class="panel-heading">
                <div class="panel-title">机票信息<span class="pull-right">费用: 1800 CNY</span></div>
            </div>
            <div class="panel-body">
                <table class="table table-condensed">
                    <tr>
                        <th>期望出发时间</th>
                        <th>出发地/目的地</th>
                        <th>所选/最低票价</th>
                    </tr>
                    <tr>
                        <td>17/09/19 08:00</td>
                        <td>北京-深圳</td>
                        <td>1200-1200</td>
                    </tr>
                    <tr>
                        <td>17/09/19 08:00</td>
                        <td>基利弗尼亚-温哥华</td>
                        <td>1200-1200</td>
                    </tr>
                </table>
            </div>
        </div>
        <div class="panel panel-danger">
            <div class="panel-heading">
                <div class="panel-title">酒店信息<span class="pull-right">费用: 1200 CNY</span></div>
            </div>
            <div class="panel-body">
                <table class="table table-condensed">
                    <tr>
                        <th>国家/城市</th>
                        <th>签入/签出</th>
                        <th>费用</th>
                    </tr>
                    <tr>
                        <td>基利弗尼亚-温哥华</td>
                        <td>17/09/19-17/10/19</td>
                        <td class="vam">1200</td>
                    </tr>
                    <tr>
                        <td>基利弗尼亚-温哥华</td>
                        <td>17/09/19-17/10/19</td>
                        <td class="vam">1200</td>
                    </tr>
                </table>
            </div>
        </div>

        <div class="panel panel-success">
            <div class="panel-heading">
                <div class="panel-title">总费用: 3000 CNY</div>
            </div>
        </div>
        @Html.Partial("Files")
    </div>

    <div class="tab-pane" id="tab-aud">
        @Html.Partial("Logs")
    </div>
</div>

<div class="row">
    <div class="col-xs-12">
        <div class="panel panel-primary">
            <div class="panel-heading">
                <div class="panel-title">审批操作<span class="mt8 pull-right caret caretup"></span></div>
            </div>
            <div class="panel-body">
                <form class="form-horizontal">
                    <div class="form-group hidden" id="adhocGroup">
                        <label for="selApproveResult" class="col-xs-3 control-label">Ad Hoc</label>
                        <div class="col-xs-9">
                            <input type="text" class="form-control" id="txtAdHoc" placeholder="选择审批人" />
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="selApproveResult" class="col-xs-3 control-label">审批意见</label>
                        <div class="col-xs-9">
                            <select class="form-control" id="selApproveResult"></select>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="txtComments" class="col-xs-3 control-label">描述</label>
                        <div class="col-xs-9">
                            <textarea type="password" class="form-control" id="txtComments" placeholder="描述"></textarea>
                        </div>
                    </div>
                    <div class="form-group hidden" id="pwdGroup">
                        <label for="txtPassword" class="col-xs-3 control-label">密码</label>
                        <div class="col-xs-9">
                            <input type="password" class="form-control" id="txtPassword" placeholder="密码" />
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="col-xs-offset-3 col-xs-9">
                            <button type="button" class="btn btn-default" id="btnSubmit">提交</button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

@section styles{
    <link href="~/Resources/plugins/jquery.autocomplete/jquery.autocomplete.css" rel="stylesheet" />
}

@section scripts{
    <script src="~/Resources/plugins/jquery.autocomplete/jquery.autocomplete.js"></script>
    <script type="text/javascript">
        var options = {
            excepted: ['Submit', 'Assigned'],
            callback: function (approve, desc, approver) {
                alert(approve + '--' + desc);
            },
            enablePwd: true,
            enableAdHoc: true
        };
        var approve = new ProcessApprove(options);
    </script>
}
